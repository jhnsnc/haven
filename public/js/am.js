function debounce(e,t,n){var i;return function(){var l=this,o=arguments,r=function(){i=null,n||e.apply(l,o)},s=n&&!i;clearTimeout(i),i=setTimeout(r,t),s&&e.apply(l,o)}}function fitSlideContent(e,t){var n=e.querySelector("p"),i=[].slice.apply(n.querySelectorAll("span,em"));i.forEach(function(e){e.classList.remove("out"),e.classList.remove("in")});var l=0,o=0,r=0,s=function(e){return r+=1,r>=20?l:(n.style.fontSize=e+"px",n.getBoundingClientRect().height<=t?l=e:o=e,l?o?o-l>1?s(Math.floor((o-l)/2)+l):l:s(2*e):s(Math.floor(e/2)))};n.style.fontSize=s(64)+"px",currentSlide===parseInt(e.dataset.slide,10)&&i.forEach(fadeInContent)}function fitAllSlides(){slides.forEach(function(e,t){e.classList.add("sizing"),fitSlideContent(e,window.innerHeight*(t?.7:.4)),e.classList.remove("sizing")})}function fadeInContent(e){e.classList.remove("out"),e.classList.add("in")}function fadeOutContent(e){e.classList.add("out"),e.classList.remove("in")}function setSlide(e){pendingTimeouts.forEach(window.clearTimeout),[].slice.apply(slides[currentSlide-1].querySelectorAll("span,em")).forEach(fadeOutContent),[].slice.apply(slides[e-1].querySelectorAll("span,em")).forEach(function(t,n){pendingTimeouts.push(window.setTimeout(fadeInContent,2500*n+(e-1?2e3:0),t))}),bg.dataset.bg=Math.floor(27*Math.random())+1,currentSlide=e}function nextSlide(){currentSlide<7&&setSlide(currentSlide+1)}function prevSlide(){currentSlide>1&&setSlide(currentSlide-1)}var slides=[].slice.call(document.querySelectorAll(".slide")),bg=document.querySelector(".bg");window.addEventListener("resize",debounce(fitAllSlides,50)),fitAllSlides();var currentSlide,pendingTimeouts=[];document.body.addEventListener("click",nextSlide),currentSlide=1,setSlide(currentSlide);
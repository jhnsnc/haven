function debounce(t,e,o){var n;return function(){var i=this,r=arguments,d=function(){n=null,o||t.apply(i,r)},l=o&&!n;clearTimeout(n),n=setTimeout(d,e),l&&t.apply(i,r)}}function easeOutSine(t){return Math.sin(t*(Math.PI/2))}function fitSlideContent(t,e){var o=t.querySelector("p"),n=[].slice.apply(o.querySelectorAll("span,em"));n.forEach(function(t){t.classList.remove("out"),t.classList.remove("in")});var i=0,r=0,d=0,l=function(t){return d+=1,d>=20?i:(o.style.fontSize=t+"px",o.getBoundingClientRect().height<=e?i=t:r=t,i?r?r-i>1?l(Math.floor((r-i)/2)+i):i:l(2*t):l(Math.floor(t/2)))};o.style.fontSize=l(64)+"px",currentSlide===parseInt(t.dataset.slide,10)&&n.forEach(fadeInContent)}function fitAllSlides(){slides.forEach(function(t,e){t.classList.add("sizing"),fitSlideContent(t,window.innerHeight*(e?.7:.4)),t.classList.remove("sizing")})}function fadeInContent(t){t.classList.remove("out"),t.classList.add("in")}function fadeOutContent(t){t.classList.add("out"),t.classList.remove("in")}function rgbToHexString(t,e,o){return"#"+((1<<24)+(t<<16)+(e<<8)+o).toString(16).slice(1)}function hexStringToRgb(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}}function changeBgColor(t){function e(t){bgTween.startTime||(bgTween.startTime=t);var o=Math.min((t-bgTween.startTime)/bgTween.duration,1);o=easeOutSine(o),setBgColor(rgbToHexString(Math.floor(bgTween.iTop.r+o*(bgTween.fTop.r-bgTween.iTop.r)),Math.floor(bgTween.iTop.g+o*(bgTween.fTop.g-bgTween.iTop.g)),Math.floor(bgTween.iTop.b+o*(bgTween.fTop.b-bgTween.iTop.b))),rgbToHexString(Math.floor(bgTween.iBot.r+o*(bgTween.fBot.r-bgTween.iBot.r)),Math.floor(bgTween.iBot.g+o*(bgTween.fBot.g-bgTween.iBot.g)),Math.floor(bgTween.iBot.b+o*(bgTween.fBot.b-bgTween.iBot.b)))),o<1?bgTween.id=window.requestAnimationFrame(e):bgTween=null}bgTween&&window.cancelAnimationFrame(bgTween.id),bgTween={iTop:hexStringToRgb(document.getElementById("bg-grad-top").getAttribute("stop-color")),iBot:hexStringToRgb(document.getElementById("bg-grad-bot").getAttribute("stop-color")),fTop:hexStringToRgb(slideColors[t].top),fBot:hexStringToRgb(slideColors[t].bottom),duration:2e3},bgTween.id=window.requestAnimationFrame(e)}function setBgColor(t,e){document.getElementById("bg-grad-top").setAttribute("stop-color",t),document.getElementById("bg-grad-bot").setAttribute("stop-color",e)}function setSlide(t){pendingTimeouts.forEach(window.clearTimeout),[].slice.apply(slides[currentSlide-1].querySelectorAll("span,em")).forEach(fadeOutContent),[].slice.apply(slides[t-1].querySelectorAll("span,em")).forEach(function(t,e){pendingTimeouts.push(window.setTimeout(fadeInContent,2500*e+1500,t))}),changeBgColor(Math.floor(Math.random()*slideColors.length)),currentSlide=t}function nextSlide(){currentSlide<7&&setSlide(currentSlide+1)}function prevSlide(){currentSlide>1&&setSlide(currentSlide-1)}var slides=[].slice.call(document.querySelectorAll(".slide")),bg=document.querySelector(".bg");window.addEventListener("resize",debounce(fitAllSlides,50)),fitAllSlides();var slideColors=[{top:"#f45c43",bottom:"#eb3349"},{top:"#dd5e89",bottom:"#f7bb97"},{top:"#4cb8c4",bottom:"#3cd3ad"},{top:"#1a2980",bottom:"#26d0ce"},{top:"#f30a99",bottom:"#aa07a7"},{top:"#ff7c62",bottom:"#e45092"},{top:"#f09819",bottom:"#edde5d"},{top:"#e55d87",bottom:"#5fc3e4"},{top:"#348f50",bottom:"#56b4d3"},{top:"#eb88ff",bottom:"#bb7af4"},{top:"#02aab0",bottom:"#00cdac"},{top:"#ef273f",bottom:"#f17d8b"},{top:"#ef32d9",bottom:"#89fffd"},{top:"#76d8d1",bottom:"#556270"},{top:"#be93c5",bottom:"#7bc6cc"},{top:"#808080",bottom:"#3fada8"},{top:"#f85032",bottom:"#e73827"},{top:"#56ab2f",bottom:"#a8e063"},{top:"#42275a",bottom:"#734b6d"},{top:"#4ca1af",bottom:"#2c3e50"},{top:"#e96443",bottom:"#904e95"},{top:"#3a6073",bottom:"#3a7bd5"},{top:"#928dab",bottom:"#00d2ff"},{top:"#ffc371",bottom:"#ff5f6d"},{top:"#ff9068",bottom:"#ff4b1f"},{top:"#dc6b93",bottom:"#49cdfd"},{top:"#ef629f",bottom:"#eecda3"}],currentSlide,pendingTimeouts=[],bgTween;document.body.addEventListener("click",nextSlide),currentSlide=1,setSlide(currentSlide);